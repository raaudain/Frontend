{"ast":null,"code":"var _jsxFileName = \"/Users/ramon/Documents/web-projects/sauti/Frontend/src/components/Register.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nimport axios from 'axios';\n\nconst Register = props => {\n  const [credentials, setCredentials] = useState({\n    username: \"\",\n    password: \"\",\n    email: \"\"\n  });\n\n  const handleChange = e => {\n    e.preventDefault();\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const register = e => {\n    e.preventDefault();\n    let name = credentials.username;\n    axiosWithAuth().post(`https://build-week-africanmarketplace.herokuapp.com/api/auth/register`, credentials).then(res => {\n      axiosWithAuth().get('https://build-week-africanmarketplace.herokuapp.com/api/users').then(res => {\n        console.log(name);\n        var found = res.data.find(function (element) {\n          return element.username === name;\n        });\n        this.props.dispatch({\n          type: 'USERNAME',\n          username: found.id\n        });\n      }).catch(err => console.log(err));\n      localStorage.setItem('token', res.data.token);\n      props.history.push('/market-price');\n    }).catch(err => {\n      console.log(err.response);\n      alert(\"Wrong user or password\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Please Register Below:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addFormStyles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"regFormStyles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, \"Username:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"titleStyles\",\n    type: \"text\",\n    name: \"username\",\n    value: credentials.username,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"titleStyles2\",\n    type: \"password\",\n    name: \"password\",\n    value: credentials.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"titleStyles\",\n    type: \"email\",\n    name: \"email\",\n    value: credentials.email,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: register,\n    className: \"postButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"Register\"))));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/ramon/Documents/web-projects/sauti/Frontend/src/components/Register.js"],"names":["React","useState","useEffect","axiosWithAuth","axios","Register","props","credentials","setCredentials","username","password","email","handleChange","e","preventDefault","target","name","value","register","post","then","res","get","console","log","found","data","find","element","dispatch","type","id","catch","err","localStorage","setItem","token","history","push","response","alert"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nimport axios from 'axios';\n\nconst Register = (props) => {\n    const [credentials, setCredentials] = useState({\n        username: \"\",\n        password: \"\",\n        email: \"\",\n    })\n\n    const handleChange = e => {\n        e.preventDefault();\n        setCredentials({\n            ...credentials,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    const register = e => {\n        e.preventDefault();\n        let name = credentials.username;\n        axiosWithAuth()    \n            .post(`https://build-week-africanmarketplace.herokuapp.com/api/auth/register`,\n                credentials,\n            )\n            .then(res => {\n                axiosWithAuth()\n                    .get('https://build-week-africanmarketplace.herokuapp.com/api/users')\n                    .then(res => {\n                        console.log(name);\n                        var found = res.data.find(function (element) {\n                            return element.username === name;\n                        });\n                        this.props.dispatch({ type: 'USERNAME', username: found.id });\n                    })\n                    .catch(err => console.log(err)); \n                localStorage.setItem('token', res.data.token);\n                props.history.push('/market-price');\n            })\n            .catch(err => {\n                console.log(err.response);\n                alert(\"Wrong user or password\");\n            });\n    }\n\n    return (\n        <div className=\"home-page\">\n            <h1>Please Register Below:</h1>\n            <div className=\"addFormStyles\">\n                <form className=\"regFormStyles\">\n                    <div>\n                        <label htmlFor=\"username\">Username:</label>\n                        <input className=\"titleStyles\"\n                            type=\"text\"\n                            name=\"username\"\n                            value={credentials.username}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div>\n                        <label htmlFor=\"password\">Password:</label>\n                        <input className=\"titleStyles2\"\n                            type=\"password\"\n                            name=\"password\"\n                            value={credentials.password}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div>\n                        <label htmlFor=\"email\">Email:</label>\n                        <input className=\"titleStyles\"\n                            type=\"email\"\n                            name=\"email\"\n                            value={credentials.email}\n                            onChange={handleChange}\n                        />\n                    </div>                    \n                    <button onClick={register} className=\"postButton\">Register</button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}